// Type definitions for mariasql v0.1.22
// Project: https://github.com/mscdex/node-mariasql
// Definitions by: MichaelBennett <https://github.com/bennett000>
// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped



declare var mariasql:mariasql.Client;

export = mariasql;
export as namespace mariasql;

declare namespace mariasql {

    export interface MariaCallBack<T> {
        (error : Error, rows : MariaRows<T>):void
    }

    export interface Dictionary {
        [index: string]: any;
    }

    export interface MariaRows<T> extends Array<T> {
        info : MariaInfo;
    }

    export interface MariaInfo  {
        affectedRows: number;
        insertId: number;
        numRows: number
    }

    export interface ClientConfig {
        host: string;
        user: string;
        password: string;
        db?: string;
        port?: number;
        unixSocket?: string;
        keepQueries?: boolean;
        multiStatements?: boolean;
        connTimeout?: number;
        pingInterval?: number;
        secureAuth?: boolean;
        compress?: boolean;
        ssl?:any;
        local_infile?: boolean;
        read_default_group?: string;
        charset?: string;
    }

    export interface MariaClient {
        end():void;
        destroy():void;
        escape(query:string):string;
        query<T>(q:string, placeHolders?:Dictionary, listener? : MariaCallBack<T>);
        isMariaDB():boolean;
        connected: boolean;
        threadId: string;
    }

    export interface Client {
        new (config : ClientConfig):MariaClient;
        ():MariaClient;
        prototype: MariaClient;
    }
}
